# âš¡ é–‹æ©Ÿè‡ªå‹•å•Ÿå‹• (Autostart) æŒ‡å—

æœ¬æ¨¡çµ„æä¾› Systemd èˆ‡ Windows Task Scheduler çš„æ•´åˆè…³æœ¬ï¼Œå¯¦ç¾ **ã€Œä¸æ­»é³¥æ¨¡å¼ã€**ï¼šå³ä½¿ä¼ºæœå™¨é‡å•Ÿï¼ŒAgent ä¹Ÿæœƒè‡ªå‹•åœ¨èƒŒæ™¯å¾©æ´»ã€‚

---

## ğŸ§ Linux / WSL å…§éƒ¨è¨­å®š (Systemd)

é¦–å…ˆï¼Œæˆ‘å€‘éœ€è¦å‘Šè¨´ Linux ç³»çµ±å°‡ Agent è¦–ç‚ºä¸€å€‹èƒŒæ™¯æœå‹™ã€‚

### 1. åŸ·è¡Œè¨»å†Šè…³æœ¬
åœ¨ Ubuntu è¦–çª—ä¸­ï¼Œæ ¹æ“šæ‚¨çš„å¹³å°ç‰ˆæœ¬åŸ·è¡Œå°æ‡‰æŒ‡ä»¤ï¼š

**Telegram ç‰ˆ:**
```bash
# å›åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„
cd ~/chat-agent-matrix
sudo ./auto-startup/install_systemd_telegram.sh
```

**LINE ç‰ˆ:**
```bash
sudo ./auto-startup/install_systemd_line.sh
```

---

## ğŸªŸ Windows å®¿ä¸»æ©Ÿè¨­å®š (Task Scheduler)

å¦‚æœæ‚¨æ˜¯åœ¨ Windows WSL ä¸Šé‹è¡Œï¼Œç‚ºäº†é¿å… Windows æ›´æ–°é‡å•Ÿå¾Œæœå‹™æ›æ‰ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿã€‚

### 1. è¨­å®šè‡ªå‹•æ’ç¨‹ (æ¨è–¦æ–¹æ³•)
æ‚¨ç„¡éœ€é›¢é–‹ Linux çµ‚ç«¯æ©Ÿï¼Œç›´æ¥åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å³å¯å‘¼å« Windows é€²è¡Œè¨­å®šï¼š

```bash
# åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹ (chat-agent-matrix)
./auto-startup/setup_windows_scheduler.sh
```

é€™æœƒè‡ªå‹•å½ˆå‡ºä¸€å€‹è—è‰²çš„ PowerShell è¦–çª—ï¼ˆè‹¥æœ‰æ¬Šé™è©¢å•è«‹æŒ‰ã€Œæ˜¯ã€ï¼‰ï¼Œä¾ç…§æç¤ºæŒ‰ Enter å³å¯å®Œæˆã€‚

> **âš ï¸ é‡è¦æç¤ºï¼šé—œæ–¼ Session 0 éš”é›¢**
> ç‚ºäº†å¯¦ç¾ã€Œä¸ç™»å…¥ä¹Ÿèƒ½åŸ·è¡Œã€çš„ä¼ºæœå™¨ç´šèƒ½åŠ›ï¼Œæ­¤ä»»å‹™æœƒåœ¨ Windows çš„ **Session 0** é‹è¡Œã€‚
> *   **çœ‹ä¸åˆ°è¦–çª—**ï¼šç•¶é›»è…¦é‡å•Ÿå¾Œï¼Œæ‚¨**ä¸æœƒ**åœ¨æ¡Œé¢ä¸Šçœ‹åˆ°ä»»ä½• Ubuntu è¦–çª—ï¼Œé€™æ˜¯æ­£å¸¸çš„ã€‚
> *   **èƒŒæ™¯é‹è¡Œ**ï¼šé›–ç„¶çœ‹ä¸åˆ°ï¼Œä½† WSL å·²ç¶“åœ¨èƒŒæ™¯å•Ÿå‹•ï¼Œä¸” Agent å·²ç¶“ä¸Šç·šã€‚
> *   **å¦‚ä½•ç®¡ç†**ï¼šè«‹ä½¿ç”¨ `ssh` é€£å…¥ï¼Œæˆ–é€é Telegram/LINE å‚³é€æŒ‡ä»¤ã€‚è‹¥è¦æ‰‹å‹•å«å‡ºè¦–çª—ï¼Œè«‹åŸ·è¡Œ `start_agent.bat`ã€‚

### 2. å‚™ç”¨æ–¹æ³• (æ‰‹å‹•åŸ·è¡Œ)
å¦‚æœä¸Šè¿°æ–¹æ³•å¤±æ•—ï¼Œæ‚¨å¯ä»¥æ‰‹å‹•åœ¨ Windows PowerShell (ç®¡ç†å“¡) ä¸­åŸ·è¡Œï¼š

1.  åœ¨ Windows ä¸­æ‰“é–‹ PowerShell (ä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œ)ã€‚
2.  è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ (è«‹å°‡è·¯å¾‘æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›è·¯å¾‘)ï¼š
    ```powershell
    powershell -ExecutionPolicy Bypass -File "\\wsl.localhost\Ubuntu\home\æ‚¨çš„ä½¿ç”¨è€…åç¨±\...\setup_autostart.ps1"
    ```

---

## ğŸ› ï¸ å¸¸è¦‹å•é¡Œ

**Q: æˆ‘æ€éº¼çŸ¥é“æœå‹™æœ‰æ²’æœ‰åœ¨è·‘ï¼Ÿ**
A: æ‰“é–‹ Telegram/LINEï¼Œå‚³é€ `/status` çµ¦æ‚¨çš„ Botã€‚

**Q: æˆ‘æƒ³æ‰‹å‹•åœæ­¢æœå‹™ï¼Ÿ**
A: æ‰“é–‹ Ubuntuï¼Œè¼¸å…¥ `sudo systemctl stop chat-agent-matrix-telegram` (æˆ– `chat-agent-matrix-line`)ã€‚

**Q: æˆ‘æƒ³ç§»é™¤é–‹æ©Ÿè‡ªå‹•å•Ÿå‹•ï¼Ÿ**
A: è«‹åŸ·è¡Œç§»é™¤è…³æœ¬ï¼š
   *   Telegram: `sudo ./auto-startup/disable_systemd_telegram.sh`
   *   LINE: `sudo ./auto-startup/disable_systemd_line.sh`

**Q: è…³æœ¬é¡¯ç¤º "WSL distro not found"ï¼Ÿ**
A: æˆ‘å€‘çš„è…³æœ¬é è¨­ä½¿ç”¨ `Ubuntu`ã€‚å¦‚æœæ‚¨å®‰è£çš„æ˜¯å…¶ä»–ç‰ˆæœ¬ï¼Œè«‹ç·¨è¼¯ `setup_autostart.ps1` ä¸­çš„ `$WSLDistro` è®Šæ•¸ã€‚
